import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs';
import { action } from '@storybook/addon-actions';
import { BrowserAnimationsModule } from '@angular/platform-browser/animations';
import { DemoSubheaderComponent } from './subheader.demo';
import { Prism as SyntaxHighlighter } from 'react-syntax-highlighter';
import { moduleMetadata } from '@storybook/angular';
import {
  SdsMenuModule,
  SdsSearchModule,
  SdsAutocompleteModule,
} from '@gsa-sam/components';
import { SdsButtonGroupModule } from '@gsa-sam/sam-material-extensions';
import { AutocompleteService } from './examples/services/autocomplete.service';
import { IconModule } from '@gsa-sam/ngx-uswds-icons';
import { FormsModule } from '@angular/forms';
import { SdsSubheaderModule } from './subheader.module';
import { SdsSubheaderComponent } from './subheader.component';

<Meta
  title="Subheader"
  component={SdsSubheaderComponent}
  decorators={[
    moduleMetadata({
      declarations: [DemoSubheaderComponent],
      imports: [
        BrowserAnimationsModule,
        FormsModule,
        IconModule,
        SdsSearchModule,
        SdsAutocompleteModule,
        SdsSubheaderModule,
        SdsButtonGroupModule,
      ],
      providers: [AutocompleteService],
    }),
  ]}
/>

# Suheader

## SCSS example

```scss
$font-stack: Helvetica, sans-serif;
$primary-color: #333;

body {
  font: 100% $font-stack;
  color: $primary-color;
}
```

export const Component = () => {
  return <SyntaxHighlighter />;
};

<Canvas>
  <Story inline={true} name="Basic" args={{}}>
    {(args) => ({
      props: { ...args, clicks: action('Button Click') },
      template: `<demo-subheader (actionsClicks)="clicks($event)"></demo-subheader>`,
    })}
  </Story>
</Canvas>

<Story inline={true} name="Data Entry" args={{}}>
  {(args) => ({
    props: { ...args, clicks: action('Button Click') },
    template: `
        <demo-subheader
          (actionsClicks)="clicks($event)"
          [showButtons]="true">
        </demo-subheader>
      `,
  })}
</Story>

<Story inline={true} name="Search" args={{}}>
  {(args) => ({
    props: { ...args, clicks: action('Button Click') },
    template: `
        <demo-subheader
          (actionsClicks)="clicks($event)"
          [showSearch]="true">
        </demo-subheader>
      `,
  })}
</Story>

<Story inline={true} name="Search with Autocomplete" args={{}}>
  {(args) => ({
    props: { ...args, clicks: action('Button Click') },
    template: `
        <demo-subheader
          (actionsClicks)="clicks($event)"
          [showAutocomplete]="true">
        </demo-subheader>
      `,
  })}
</Story>

<Story inline={true} name="Search with Sub-Pages" args={{}}>
  {(args) => ({
    props: { ...args, clicks: action('Button Click') },
    template: `
        <demo-subheader
          (actionsClicks)="clicks($event)"
          [showSearch]="true"
          [showButtonGroup]="true">
        </demo-subheader>
      `,
  })}
</Story>

<Story inline={true} name="Tier 2 Workspace" args={{}}>
  {(args) => ({
    props: { ...args, clicks: action('Button Click') },
    template: `
        <demo-subheader
          (actionsClicks)="clicks($event)"
          [showSearch]="true"
          [showButtons]="true">
        </demo-subheader>
      `,
  })}
</Story>

<ArgsTable of={SdsSubheaderComponent} />
